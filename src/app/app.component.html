<div class="scanner-app">
  <h2>{{ title }}</h2>

  <!-- Button to start scanning by selecting the rear camera -->
  <button (click)="startScan()" [disabled]="!hasDevices || !hasPermission">Start Scanning</button>

  <!-- Barcode scanner feed -->
  <zxing-scanner 
    #scanner
    [formats]="allowedFormats"
    [device]="selectedDevice"
    (scanSuccess)="onCodeResult($event)">
  </zxing-scanner>

  <!-- Input field that will auto-fill with scanned result -->
  <label for="barcode-result">Scanned Barcode:</label>
  <input id="barcode-result" type="text" [value]="scannedResult" readonly />

  <!-- Error messages -->
  <div *ngIf="!hasDevices">
    <p>No cameras found.</p>
  </div>
  <div *ngIf="!hasPermission">
    <p>Please grant camera permission to start scanning.</p>
  </div>
</div>
